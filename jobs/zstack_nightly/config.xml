<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description>zstack nightly test</description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <jenkins.plugins.slack.SlackNotifier_-SlackJobProperty plugin="slack@1.8.1">
      <teamDomain></teamDomain>
      <token></token>
      <room></room>
      <startNotification>false</startNotification>
      <notifySuccess>false</notifySuccess>
      <notifyAborted>false</notifyAborted>
      <notifyNotBuilt>false</notifyNotBuilt>
      <notifyUnstable>false</notifyUnstable>
      <notifyFailure>false</notifyFailure>
      <notifyBackToNormal>false</notifyBackToNormal>
      <notifyRepeatedFailure>false</notifyRepeatedFailure>
      <includeTestSummary>false</includeTestSummary>
      <showCommitList>false</showCommitList>
      <includeCustomMessage>false</includeCustomMessage>
      <customMessage></customMessage>
    </jenkins.plugins.slack.SlackNotifier_-SlackJobProperty>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <canRoam>true</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers/>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>rm -rf mevoco_ci zstack_ci
mkdir -p ${WORKSPACE}/192.168.200.145/
sh ${JENKINS_HOME}/reboot.sh jenkins_zstack_nightly</command>
    </hudson.tasks.Shell>
    <hudson.plugins.copyartifact.CopyArtifact plugin="copyartifact@1.37">
      <project>zstack_ci</project>
      <filter>zstack.tar</filter>
      <target></target>
      <excludes></excludes>
      <selector class="hudson.plugins.copyartifact.PermalinkBuildSelector">
        <id>zstack_ci_bat_pass</id>
      </selector>
      <doNotFingerprintArtifacts>false</doNotFingerprintArtifacts>
    </hudson.plugins.copyartifact.CopyArtifact>
    <hudson.plugins.copyartifact.CopyArtifact plugin="copyartifact@1.37">
      <project>zstack_ci</project>
      <filter>zstack-utility.tar</filter>
      <target></target>
      <excludes></excludes>
      <selector class="hudson.plugins.copyartifact.PermalinkBuildSelector">
        <id>zstack_ci_bat_pass</id>
      </selector>
      <doNotFingerprintArtifacts>false</doNotFingerprintArtifacts>
    </hudson.plugins.copyartifact.CopyArtifact>
    <hudson.plugins.copyartifact.CopyArtifact plugin="copyartifact@1.37">
      <project>zstack-woodpecker_debug</project>
      <filter>zstack-woodpecker.tar</filter>
      <target></target>
      <excludes></excludes>
      <selector class="hudson.plugins.copyartifact.StatusBuildSelector"/>
      <doNotFingerprintArtifacts>false</doNotFingerprintArtifacts>
    </hudson.plugins.copyartifact.CopyArtifact>
    <hudson.plugins.copyartifact.CopyArtifact plugin="copyartifact@1.37">
      <project>zstack_ci</project>
      <filter>zstack_ci/latest/*</filter>
      <target></target>
      <excludes></excludes>
      <selector class="hudson.plugins.copyartifact.PermalinkBuildSelector">
        <id>zstack_ci_bat_pass</id>
      </selector>
      <optional>true</optional>
      <doNotFingerprintArtifacts>false</doNotFingerprintArtifacts>
    </hudson.plugins.copyartifact.CopyArtifact>
    <hudson.plugins.copyartifact.CopyArtifact plugin="copyartifact@1.37">
      <project>zstack-woodpecker_debug</project>
      <filter>zstack_woodpecker_version.txt</filter>
      <target></target>
      <excludes></excludes>
      <selector class="hudson.plugins.copyartifact.StatusBuildSelector"/>
      <doNotFingerprintArtifacts>false</doNotFingerprintArtifacts>
    </hudson.plugins.copyartifact.CopyArtifact>
    <hudson.plugins.copyartifact.CopyArtifact plugin="copyartifact@1.37">
      <project>zstack_ci</project>
      <filter>zstack_ci_build_number.txt</filter>
      <target></target>
      <excludes></excludes>
      <selector class="hudson.plugins.copyartifact.PermalinkBuildSelector">
        <id>zstack_ci_bat_pass</id>
      </selector>
      <doNotFingerprintArtifacts>false</doNotFingerprintArtifacts>
    </hudson.plugins.copyartifact.CopyArtifact>
    <hudson.tasks.Shell>
      <command>if [ &quot;${OVERALL_ZSTACK_BUILD_NUMBER}&quot; == &quot;&quot; ]; then
	OVERALL_ZSTACK_BUILD_NUMBER=`cat zstack_ci_build_number.txt`
fi
bash -ex ${JENKINS_HOME}/zstack_test_script/build.sh build_zstack &quot;${OVERALL_ZSTACK_BUILD_NUMBER}&quot; zstack_ci/latest/zstack-installer.bin</command>
    </hudson.tasks.Shell>
    <jenkins.plugins.ssh2easy.gssh.GsshFtpUploadBuilder plugin="ssh2easy@1.3">
      <disable>false</disable>
      <serverInfo>zstack_tests~~jenkins_nightly_testing2~~192.168.200.145</serverInfo>
      <groupName>zstack_tests</groupName>
      <ip>192.168.200.145</ip>
      <localFilePath>/var/lib/jenkins/zstack_test_script/prepare_nightly.sh</localFilePath>
      <remoteLocation>/home/192.168.200.145/</remoteLocation>
      <fileName>prepare_nightly.sh</fileName>
    </jenkins.plugins.ssh2easy.gssh.GsshFtpUploadBuilder>
    <jenkins.plugins.ssh2easy.gssh.GsshCommandBuilder plugin="ssh2easy@1.3">
      <disable>false</disable>
      <serverInfo>zstack_tests~~jenkins_nightly_testing2~~192.168.200.145</serverInfo>
      <groupName>zstack_tests</groupName>
      <ip>192.168.200.145</ip>
      <shell>bash -ex /home/192.168.200.145/prepare_nightly.sh zstack_ci 192.168.200.145
if [ &quot;${OVERALL_ZSTACK_BUILD_NUMBER}&quot; == &quot;&quot; ]; then
	OVERALL_ZSTACK_BUILD_NUMBER=`cat /home/192.168.200.145/zstack_ci_build_number.txt`
fi
bash -ex /home/192.168.200.145/run_nightly_test.sh 192.168.200.145 zstack_ci ${OVERALL_ZSTACK_BUILD_NUMBER}</shell>
    </jenkins.plugins.ssh2easy.gssh.GsshCommandBuilder>
  </builders>
  <publishers/>
  <buildWrappers/>
</project>